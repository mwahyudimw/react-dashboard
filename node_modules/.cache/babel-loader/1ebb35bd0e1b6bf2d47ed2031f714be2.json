{"ast":null,"code":"var _jsxFileName = \"/home/mronoyy/Documents/project/react-dashboard/src/views/Galeri/components/ManageGaleri.js\";\nimport React, { useState } from \"react\";\nimport { Card, CardHeader, CardContent, CardActions, Divider, Avatar, Button, IconButton, CardMedia, Typography, TextField, Menu, MenuItem } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport CKEditor from \"@ckeditor/ckeditor5-react\";\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\nimport { apiDashManage } from \"../../../api/api\";\nimport axios from \"axios\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport Swal from \"sweetalert2\";\nimport { ModalDelete } from \"../Modal/ModalDelete\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { ModalUpdate } from \"../Modal/ModalUpdate\";\nconst useStyles = makeStyles(theme => ({\n  details: {\n    display: \"flex\"\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\"\n  },\n  root: {\n    maxWidth: 345,\n    marginTop: \"30px\",\n    margin: \"10px\"\n  },\n  media: {\n    height: 0,\n    paddingTop: \"56.25%\" // 16:9\n\n  },\n  avatar: {\n    marginLeft: \"auto\",\n    height: 110,\n    width: 100,\n    flexShrink: 0,\n    flexGrow: 0\n  },\n  avatar2: {\n    height: 50,\n    width: 50,\n    borderRadius: \"50%\"\n  },\n  uploadButton: {\n    marginRight: theme.spacing(2)\n  }\n}));\n\nconst ManageGaleri = () => {\n  const classes = useStyles();\n  const [image, setImage] = useState({\n    image1: \"\",\n    image2: \"\"\n  });\n  const [images, setimages] = useState([]);\n  const [openModal, setOpenModal] = useState({\n    delete: false,\n    update: false\n  });\n  const [loading, setLoading] = useState(false);\n  const [_id, setId] = useState(\"\");\n  const DataUser = JSON.parse(localStorage.getItem(\"data\"));\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const onImageChange = e => {\n    setImage(image => ({ ...image,\n      image1: e.target.files[0],\n      image2: URL.createObjectURL(e.target.files[0])\n    }));\n  };\n\n  const handleGetId = res => {\n    setId(res._id);\n  };\n\n  const handleClickOpenModalDelete = () => {\n    setOpenModal(openModal => ({ ...openModal,\n      delete: !openModal.delete\n    }));\n  };\n\n  React.useEffect(() => {\n    getGalery();\n  }, []);\n\n  const getGalery = () => {\n    setLoading(true);\n    axios({\n      method: \"get\",\n      url: `${apiDashManage + \"galery\"}`,\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n      }\n    }).then(res => {\n      setimages(res.data.images);\n      setLoading(false);\n    }).catch(err => {\n      setLoading(false);\n      Swal.fire({\n        icon: \"error\",\n        title: \"Check your connections\",\n        text: \"\"\n      });\n    });\n  };\n\n  const handleUpload = () => {\n    setLoading(true);\n    const formData = new FormData();\n    formData.append(\"image\", image.image1);\n    axios({\n      method: \"post\",\n      url: `${apiDashManage + \"galery\"}`,\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n      },\n      data: formData\n    }).then(res => {\n      getGalery();\n      setLoading(false);\n      Swal.fire(\"Added Success\", \"\", \"success\");\n    }).catch(err => {\n      setLoading(false);\n      Swal.fire({\n        icon: \"error\",\n        title: \"Check your connections\",\n        text: \"\"\n      });\n    });\n  };\n\n  const handleDelete = () => {\n    setLoading(true);\n    axios({\n      method: \"delete\",\n      url: `${apiDashManage + \"galery/\" + _id}`,\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n      }\n    }).then(res => {\n      setLoading(false);\n      getGalery();\n      Swal.fire(\"Delete Success\", \"\", \"success\");\n    }).catch(err => {\n      setLoading(false);\n      Swal.fire({\n        icon: \"error\",\n        title: \"Check your connections\",\n        text: \"\"\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    subheader: \"Manage your Galery\",\n    title: \"Galery\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleUpload,\n    id: \"myform\",\n    encType: \"multipart/form-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.details,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }, image.image2 === \"\" ? /*#__PURE__*/React.createElement(\"img\", {\n    className: classes.avatar,\n    src: \"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQTzUQcH3J_tnHE9L4ekzLRGv87jwiPkSpUag&usqp=CAU :\",\n    style: {\n      width: \"150px\",\n      height: \"100px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    className: classes.avatar,\n    src: image.image2,\n    style: {\n      width: \"150px\",\n      height: \"100px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    style: {\n      position: \"absolute\",\n      marginTop: \"40px\",\n      cursor: \"pointer\"\n    },\n    onChange: onImageChange,\n    type: \"file\",\n    name: \"image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(CardActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: classes.uploadButton,\n    color: \"primary\",\n    variant: \"contained\",\n    onClick: handleUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 13\n    }\n  }, \"Upload Image\"))), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      justifyContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }\n  }, images.map((res, index) => /*#__PURE__*/React.createElement(Card, {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    avatar: /*#__PURE__*/React.createElement(\"img\", {\n      className: classes.avatar2,\n      src: `http://dashmanage.herokuapp.com/${DataUser.picture}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }\n    }),\n    action: /*#__PURE__*/React.createElement(IconButton, {\n      onClick: handleClick,\n      \"aria-label\": \"settings\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MoreVertIcon, {\n      onClick: () => handleGetId(res),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 19\n      }\n    })),\n    title: \"image\" + index,\n    subheader: res.createdAt.split(\"-\")[2].substring(0, 2) + \" \" + [res.createdAt.split(\"-\")[1] === \"08\" ? \"Agustus\" : res.createdAt.split(\"-\")[1] === \"09\" ? \"September\" : res.createdAt.split(\"-\")[1] === \"10\" ? \"Oktober\" : res.createdAt.split(\"-\")[1] === \"11\" ? \"November\" : res.createdAt.split(\"-\")[1] === \"12\" ? \"Desember\" : res.createdAt.split(\"-\")[1] === \"01\" ? \"Januari\" : res.createdAt.split(\"-\")[1] === \"02\" ? \"Februari\" : res.createdAt.split(\"-\")[1] === \"03\" ? \"Maret\" : res.createdAt.split(\"-\")[1] === \"04\" ? \"April\" : res.createdAt.split(\"-\")[1] === \"05\" ? \"Mei\" : res.createdAt.split(\"-\")[1] === \"06\" ? \"Juni\" : \"Juli\"] + \" \" + res.createdAt.split(\"-\")[0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      height: \"200px\",\n      width: \"350px\",\n      backgroundSize: \"cover\"\n    },\n    src: `http://dashmanage.herokuapp.com/${res.imageUrl}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Menu, {\n    id: \"simple-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: () => [handleClose(), handleClickOpenModalDelete()],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 11\n    }\n  }, \"Delete\"))), /*#__PURE__*/React.createElement(Backdrop, {\n    className: classes.backdrop,\n    open: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(ModalDelete, {\n    handleClose: handleClickOpenModalDelete,\n    close: openModal.delete,\n    open: openModal.delete,\n    handleDelete: () => [handleDelete(), handleClickOpenModalDelete()],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default ManageGaleri;","map":{"version":3,"sources":["/home/mronoyy/Documents/project/react-dashboard/src/views/Galeri/components/ManageGaleri.js"],"names":["React","useState","Card","CardHeader","CardContent","CardActions","Divider","Avatar","Button","IconButton","CardMedia","Typography","TextField","Menu","MenuItem","makeStyles","CKEditor","ClassicEditor","apiDashManage","axios","MoreVertIcon","Swal","ModalDelete","Backdrop","CircularProgress","ModalUpdate","useStyles","theme","details","display","backdrop","zIndex","drawer","color","root","maxWidth","marginTop","margin","media","height","paddingTop","avatar","marginLeft","width","flexShrink","flexGrow","avatar2","borderRadius","uploadButton","marginRight","spacing","ManageGaleri","classes","image","setImage","image1","image2","images","setimages","openModal","setOpenModal","delete","update","loading","setLoading","_id","setId","DataUser","JSON","parse","localStorage","getItem","anchorEl","setAnchorEl","handleClick","event","currentTarget","handleClose","onImageChange","e","target","files","URL","createObjectURL","handleGetId","res","handleClickOpenModalDelete","useEffect","getGalery","method","url","headers","Authorization","then","data","catch","err","fire","icon","title","text","handleUpload","formData","FormData","append","handleDelete","position","cursor","flexWrap","justifyContent","map","index","picture","createdAt","split","substring","backgroundSize","imageUrl","Boolean"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  CardActions,\n  Divider,\n  Avatar,\n  Button,\n  IconButton,\n  CardMedia,\n  Typography,\n  TextField,\n  Menu,\n  MenuItem,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport CKEditor from \"@ckeditor/ckeditor5-react\";\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\nimport { apiDashManage } from \"../../../api/api\";\nimport axios from \"axios\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport Swal from \"sweetalert2\";\nimport { ModalDelete } from \"../Modal/ModalDelete\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { ModalUpdate } from \"../Modal/ModalUpdate\";\n\nconst useStyles = makeStyles((theme) => ({\n  details: {\n    display: \"flex\",\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n  root: {\n    maxWidth: 345,\n    marginTop: \"30px\",\n    margin: \"10px\",\n  },\n  media: {\n    height: 0,\n    paddingTop: \"56.25%\", // 16:9\n  },\n  avatar: {\n    marginLeft: \"auto\",\n    height: 110,\n    width: 100,\n    flexShrink: 0,\n    flexGrow: 0,\n  },\n  avatar2: {\n    height: 50,\n    width: 50,\n    borderRadius: \"50%\",\n  },\n\n  uploadButton: {\n    marginRight: theme.spacing(2),\n  },\n}));\n\nconst ManageGaleri = () => {\n  const classes = useStyles();\n\n  const [image, setImage] = useState({\n    image1: \"\",\n    image2: \"\",\n  });\n\n  const [images, setimages] = useState([]);\n\n  const [openModal, setOpenModal] = useState({\n    delete: false,\n    update: false,\n  });\n\n  const [loading, setLoading] = useState(false);\n\n  const [_id, setId] = useState(\"\");\n\n  const DataUser = JSON.parse(localStorage.getItem(\"data\"));\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const onImageChange = (e) => {\n    setImage((image) => ({\n      ...image,\n      image1: e.target.files[0],\n      image2: URL.createObjectURL(e.target.files[0]),\n    }));\n  };\n\n  const handleGetId = (res) => {\n    setId(res._id);\n  };\n\n  const handleClickOpenModalDelete = () => {\n    setOpenModal((openModal) => ({\n      ...openModal,\n      delete: !openModal.delete,\n    }));\n  };\n\n  React.useEffect(() => {\n    getGalery();\n  }, []);\n\n  const getGalery = () => {\n    setLoading(true);\n    axios({\n      method: \"get\",\n      url: `${apiDashManage + \"galery\"}`,\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n      },\n    })\n      .then((res) => {\n        setimages(res.data.images);\n        setLoading(false);\n      })\n      .catch((err) => {\n        setLoading(false);\n        Swal.fire({\n          icon: \"error\",\n          title: \"Check your connections\",\n          text: \"\",\n        });\n      });\n  };\n\n  const handleUpload = () => {\n    setLoading(true);\n    const formData = new FormData();\n    formData.append(\"image\", image.image1);\n    axios({\n      method: \"post\",\n      url: `${apiDashManage + \"galery\"}`,\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n      },\n      data: formData,\n    })\n      .then((res) => {\n        getGalery();\n        setLoading(false);\n        Swal.fire(\"Added Success\", \"\", \"success\");\n      })\n      .catch((err) => {\n        setLoading(false);\n        Swal.fire({\n          icon: \"error\",\n          title: \"Check your connections\",\n          text: \"\",\n        });\n      });\n  };\n\n  const handleDelete = () => {\n    setLoading(true);\n    axios({\n      method: \"delete\",\n      url: `${apiDashManage + \"galery/\" + _id}`,\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n      },\n    })\n      .then((res) => {\n        setLoading(false);\n        getGalery();\n        Swal.fire(\"Delete Success\", \"\", \"success\");\n      })\n      .catch((err) => {\n        setLoading(false);\n        Swal.fire({\n          icon: \"error\",\n          title: \"Check your connections\",\n          text: \"\",\n        });\n      });\n  };\n\n  return (\n    <>\n      <Card>\n        <CardHeader subheader=\"Manage your Galery\" title=\"Galery\" />\n        <Divider />\n        <form onSubmit={handleUpload} id=\"myform\" encType=\"multipart/form-data\">\n          <CardContent>\n            <div className={classes.details}>\n              {image.image2 === \"\" ? (\n                <img\n                  className={classes.avatar}\n                  src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQTzUQcH3J_tnHE9L4ekzLRGv87jwiPkSpUag&usqp=CAU :\"\n                  style={{\n                    width: \"150px\",\n                    height: \"100px\",\n                  }}\n                />\n              ) : (\n                <img\n                  className={classes.avatar}\n                  src={image.image2}\n                  style={{\n                    width: \"150px\",\n                    height: \"100px\",\n                  }}\n                />\n              )}\n              <input\n                style={{\n                  position: \"absolute\",\n                  marginTop: \"40px\",\n                  cursor: \"pointer\",\n                }}\n                onChange={onImageChange}\n                type=\"file\"\n                name=\"image\"\n              />\n            </div>\n          </CardContent>\n          <Divider />\n          <CardActions>\n            <Button\n              className={classes.uploadButton}\n              color=\"primary\"\n              variant=\"contained\"\n              onClick={handleUpload}\n            >\n              Upload Image\n            </Button>\n          </CardActions>\n        </form>\n        <Divider />\n      </Card>\n      <div\n        style={{ display: \"flex\", flexWrap: \"wrap\", justifyContent: \"center\" }}\n      >\n        {images.map((res, index) => (\n          <Card className={classes.root}>\n            <CardHeader\n              avatar={\n                <img\n                  className={classes.avatar2}\n                  src={`http://dashmanage.herokuapp.com/${DataUser.picture}`}\n                />\n              }\n              action={\n                <IconButton onClick={handleClick} aria-label=\"settings\">\n                  <MoreVertIcon onClick={() => handleGetId(res)} />\n                </IconButton>\n              }\n              title={\"image\" + index}\n              subheader={\n                res.createdAt.split(\"-\")[2].substring(0, 2) +\n                \" \" +\n                [\n                  res.createdAt.split(\"-\")[1] === \"08\"\n                    ? \"Agustus\"\n                    : res.createdAt.split(\"-\")[1] === \"09\"\n                    ? \"September\"\n                    : res.createdAt.split(\"-\")[1] === \"10\"\n                    ? \"Oktober\"\n                    : res.createdAt.split(\"-\")[1] === \"11\"\n                    ? \"November\"\n                    : res.createdAt.split(\"-\")[1] === \"12\"\n                    ? \"Desember\"\n                    : res.createdAt.split(\"-\")[1] === \"01\"\n                    ? \"Januari\"\n                    : res.createdAt.split(\"-\")[1] === \"02\"\n                    ? \"Februari\"\n                    : res.createdAt.split(\"-\")[1] === \"03\"\n                    ? \"Maret\"\n                    : res.createdAt.split(\"-\")[1] === \"04\"\n                    ? \"April\"\n                    : res.createdAt.split(\"-\")[1] === \"05\"\n                    ? \"Mei\"\n                    : res.createdAt.split(\"-\")[1] === \"06\"\n                    ? \"Juni\"\n                    : \"Juli\",\n                ] +\n                \" \" +\n                res.createdAt.split(\"-\")[0]\n              }\n            />\n            <img\n              style={{\n                height: \"200px\",\n                width: \"350px\",\n                backgroundSize: \"cover\",\n              }}\n              src={`http://dashmanage.herokuapp.com/${res.imageUrl}`}\n            />\n          </Card>\n        ))}\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={Boolean(anchorEl)}\n          onClose={handleClose}\n        >\n          <MenuItem\n            onClick={() => [handleClose(), handleClickOpenModalDelete()]}\n          >\n            Delete\n          </MenuItem>\n        </Menu>\n      </div>\n      <Backdrop className={classes.backdrop} open={loading}>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n      <ModalDelete\n        handleClose={handleClickOpenModalDelete}\n        close={openModal.delete}\n        open={openModal.delete}\n        handleDelete={() => [handleDelete(), handleClickOpenModalDelete()]}\n      />\n    </>\n  );\n};\n\nexport default ManageGaleri;\n"]},"metadata":{},"sourceType":"module"}