{"ast":null,"code":"var _jsxFileName = \"/home/mronoyy/Documents/project/react-dashboard/src/views/ResetPass/ResetPass.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport validate from \"validate.js\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Grid, Button, IconButton, TextField, Typography } from \"@material-ui/core\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: theme.palette.background.default,\n    height: \"100%\"\n  },\n  button: {\n    margin: \" 1vh 1vh 1vh 0vh\",\n    background: \"teal\",\n    color: \"#fff\"\n  },\n  grid: {\n    height: \"100%\"\n  },\n  quoteContainer: {\n    [theme.breakpoints.down(\"md\")]: {\n      display: \"none\"\n    }\n  },\n  quote: {\n    backgroundColor: theme.palette.neutral,\n    height: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundImage: \"url(/images/auth.jpg)\",\n    backgroundSize: \"cover\",\n    backgroundRepeat: \"no-repeat\",\n    backgroundPosition: \"center\"\n  },\n  quoteInner: {\n    textAlign: \"center\",\n    flexBasis: \"600px\"\n  },\n  quoteText: {\n    color: theme.palette.white,\n    fontWeight: 300\n  },\n  name: {\n    marginTop: theme.spacing(3),\n    color: theme.palette.white\n  },\n  bio: {\n    color: theme.palette.white\n  },\n  contentContainer: {},\n  content: {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  contentHeader: {\n    display: \"flex\",\n    alignItems: \"center\",\n    paddingTop: theme.spacing(5),\n    paddingBototm: theme.spacing(2),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2)\n  },\n  logoImage: {\n    marginLeft: theme.spacing(4)\n  },\n  contentBody: {\n    flexGrow: 1,\n    display: \"flex\",\n    alignItems: \"center\",\n    [theme.breakpoints.down(\"md\")]: {\n      justifyContent: \"center\"\n    }\n  },\n  form: {\n    paddingLeft: 100,\n    paddingRight: 100,\n    paddingBottom: 125,\n    flexBasis: 700,\n    [theme.breakpoints.down(\"sm\")]: {\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2)\n    }\n  },\n  title: {\n    marginTop: theme.spacing(3)\n  },\n  socialButtons: {\n    marginTop: theme.spacing(3)\n  },\n  socialIcon: {\n    marginRight: theme.spacing(1)\n  },\n  sugestion: {\n    marginTop: theme.spacing(2)\n  },\n  textField: {\n    marginTop: theme.spacing(2)\n  },\n  VerifyEmailButton: {\n    margin: theme.spacing(2, 0)\n  }\n}));\n\nconst ResetPass = props => {\n  const {\n    history\n  } = props;\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n  const [formState, setFormState] = useState({\n    isValid: false,\n    values: {},\n    touched: {},\n    errors: {}\n  });\n  useEffect(() => {\n    const errors = validate(formState.values);\n    setFormState(formState => ({ ...formState,\n      isValid: errors ? false : true,\n      errors: errors || {}\n    }));\n  }, [formState.values]);\n\n  const handleBack = () => {\n    history.goBack();\n  };\n\n  const handleChange = event => {\n    event.persist();\n    setFormState(formState => ({ ...formState,\n      values: { ...formState.values,\n        [event.target.name]: event.target.type === \"checkbox\" ? event.target.checked : event.target.value\n      },\n      touched: { ...formState.touched,\n        [event.target.name]: true\n      }\n    }));\n  };\n\n  const handleResetPass = event => {\n    event.preventDefault();\n    setLoading(true);\n    const resetPassword = {\n      password: formState.values.password,\n      token: props.match.params.id\n    };\n    axios.post(`${process.env.REACT_APP_API_DASH}/new-password`, resetPassword).then(res => {\n      console.log(\"response\", res);\n      setLoading(false);\n      Swal.fire(\"Success!\", \"Your password has been changed !\", \"success\");\n      history.push(\"/sign-in\");\n    }).catch(err => {\n      console.error(\"error\", err);\n      setLoading(false);\n      Swal.fire({\n        icon: \"error\",\n        title: \"Oops...\",\n        text: \"Erorr !\"\n      });\n    });\n    console.log(resetPassword);\n  };\n\n  const hasError = field => formState.touched[field] && formState.errors[field] ? true : false;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    className: classes.grid,\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    className: classes.quoteContainer,\n    item: true,\n    lg: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.quote,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.quoteInner,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.quoteText,\n    variant: \"h1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 15\n    }\n  }, \"Hella narwhal Cosby sweater McSweeney's, salvia kitsch before they sold out High Life.\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.person,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.name,\n    variant: \"body1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 17\n    }\n  }, \"Takamaru Ayako\"), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.bio,\n    variant: \"body2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 17\n    }\n  }, \"Manager at inVision\"))))), /*#__PURE__*/React.createElement(Grid, {\n    className: classes.content,\n    item: true,\n    lg: 7,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.contentHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    onClick: handleBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ArrowBackIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.contentBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    onSubmit: handleResetPass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.title,\n    variant: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 17\n    }\n  }, \"Reset Password\"), /*#__PURE__*/React.createElement(Typography, {\n    color: \"textSecondary\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 17\n    }\n  }, \"Create your new password in this column\"), /*#__PURE__*/React.createElement(TextField, {\n    className: classes.textField,\n    error: hasError(\"password\"),\n    fullWidth: true,\n    helperText: hasError(\"password\") ? formState.errors.password[0] : null,\n    label: \"Password\",\n    name: \"password\",\n    onChange: handleChange,\n    type: \"password\",\n    value: formState.values.password || \"\",\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: classes.button,\n    onClick: handleResetPass,\n    size: \"large\",\n    disabled: loading,\n    variant: \"contained\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 19\n    }\n  }, loading ? \"loading ...\" : \"Reset Password\"))))))));\n};\n\nResetPass.propTypes = {\n  history: PropTypes.object\n};\nexport default withRouter(ResetPass);","map":{"version":3,"sources":["/home/mronoyy/Documents/project/react-dashboard/src/views/ResetPass/ResetPass.js"],"names":["React","useState","useEffect","withRouter","PropTypes","validate","makeStyles","Grid","Button","IconButton","TextField","Typography","ArrowBackIcon","axios","Swal","useStyles","theme","root","backgroundColor","palette","background","default","height","button","margin","color","grid","quoteContainer","breakpoints","down","display","quote","neutral","justifyContent","alignItems","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","quoteInner","textAlign","flexBasis","quoteText","white","fontWeight","name","marginTop","spacing","bio","contentContainer","content","flexDirection","contentHeader","paddingTop","paddingBototm","paddingLeft","paddingRight","logoImage","marginLeft","contentBody","flexGrow","form","paddingBottom","title","socialButtons","socialIcon","marginRight","sugestion","textField","VerifyEmailButton","ResetPass","props","history","classes","loading","setLoading","formState","setFormState","isValid","values","touched","errors","handleBack","goBack","handleChange","event","persist","target","type","checked","value","handleResetPass","preventDefault","resetPassword","password","token","match","params","id","post","process","env","REACT_APP_API_DASH","then","res","console","log","fire","push","catch","err","error","icon","text","hasError","field","person","propTypes","object"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport validate from \"validate.js\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport {\n  Grid,\n  Button,\n  IconButton,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.default,\n    height: \"100%\",\n  },\n  button: {\n    margin: \" 1vh 1vh 1vh 0vh\",\n    background: \"teal\",\n    color: \"#fff\",\n  },\n  grid: {\n    height: \"100%\",\n  },\n  quoteContainer: {\n    [theme.breakpoints.down(\"md\")]: {\n      display: \"none\",\n    },\n  },\n  quote: {\n    backgroundColor: theme.palette.neutral,\n    height: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundImage: \"url(/images/auth.jpg)\",\n    backgroundSize: \"cover\",\n    backgroundRepeat: \"no-repeat\",\n    backgroundPosition: \"center\",\n  },\n  quoteInner: {\n    textAlign: \"center\",\n    flexBasis: \"600px\",\n  },\n  quoteText: {\n    color: theme.palette.white,\n    fontWeight: 300,\n  },\n  name: {\n    marginTop: theme.spacing(3),\n    color: theme.palette.white,\n  },\n  bio: {\n    color: theme.palette.white,\n  },\n  contentContainer: {},\n  content: {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  contentHeader: {\n    display: \"flex\",\n    alignItems: \"center\",\n    paddingTop: theme.spacing(5),\n    paddingBototm: theme.spacing(2),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n  },\n  logoImage: {\n    marginLeft: theme.spacing(4),\n  },\n  contentBody: {\n    flexGrow: 1,\n    display: \"flex\",\n    alignItems: \"center\",\n    [theme.breakpoints.down(\"md\")]: {\n      justifyContent: \"center\",\n    },\n  },\n  form: {\n    paddingLeft: 100,\n    paddingRight: 100,\n    paddingBottom: 125,\n    flexBasis: 700,\n    [theme.breakpoints.down(\"sm\")]: {\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n    },\n  },\n  title: {\n    marginTop: theme.spacing(3),\n  },\n  socialButtons: {\n    marginTop: theme.spacing(3),\n  },\n  socialIcon: {\n    marginRight: theme.spacing(1),\n  },\n  sugestion: {\n    marginTop: theme.spacing(2),\n  },\n  textField: {\n    marginTop: theme.spacing(2),\n  },\n  VerifyEmailButton: {\n    margin: theme.spacing(2, 0),\n  },\n}));\n\nconst ResetPass = (props) => {\n  const { history } = props;\n\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [formState, setFormState] = useState({\n    isValid: false,\n    values: {},\n    touched: {},\n    errors: {},\n  });\n\n  useEffect(() => {\n    const errors = validate(formState.values);\n\n    setFormState((formState) => ({\n      ...formState,\n      isValid: errors ? false : true,\n      errors: errors || {},\n    }));\n  }, [formState.values]);\n\n  const handleBack = () => {\n    history.goBack();\n  };\n\n  const handleChange = (event) => {\n    event.persist();\n\n    setFormState((formState) => ({\n      ...formState,\n      values: {\n        ...formState.values,\n        [event.target.name]:\n          event.target.type === \"checkbox\"\n            ? event.target.checked\n            : event.target.value,\n      },\n      touched: {\n        ...formState.touched,\n        [event.target.name]: true,\n      },\n    }));\n  };\n\n  const handleResetPass = (event) => {\n    event.preventDefault();\n\n    setLoading(true);\n\n    const resetPassword = {\n      password: formState.values.password,\n      token: props.match.params.id,\n    };\n\n    axios\n      .post(`${process.env.REACT_APP_API_DASH}/new-password`, resetPassword)\n      .then((res) => {\n        console.log(\"response\", res);\n        setLoading(false);\n        Swal.fire(\"Success!\", \"Your password has been changed !\", \"success\");\n        history.push(\"/sign-in\");\n      })\n\n      .catch((err) => {\n        console.error(\"error\", err);\n        setLoading(false);\n        Swal.fire({\n          icon: \"error\",\n          title: \"Oops...\",\n          text: \"Erorr !\",\n        });\n      });\n\n    console.log(resetPassword);\n  };\n\n  const hasError = (field) =>\n    formState.touched[field] && formState.errors[field] ? true : false;\n\n  return (\n    <div className={classes.root}>\n      <Grid className={classes.grid} container>\n        <Grid className={classes.quoteContainer} item lg={5}>\n          <div className={classes.quote}>\n            <div className={classes.quoteInner}>\n              <Typography className={classes.quoteText} variant=\"h1\">\n                Hella narwhal Cosby sweater McSweeney's, salvia kitsch before\n                they sold out High Life.\n              </Typography>\n              <div className={classes.person}>\n                <Typography className={classes.name} variant=\"body1\">\n                  Takamaru Ayako\n                </Typography>\n                <Typography className={classes.bio} variant=\"body2\">\n                  Manager at inVision\n                </Typography>\n              </div>\n            </div>\n          </div>\n        </Grid>\n        <Grid className={classes.content} item lg={7} xs={12}>\n          <div className={classes.content}>\n            <div className={classes.contentHeader}>\n              <IconButton onClick={handleBack}>\n                <ArrowBackIcon />\n              </IconButton>\n            </div>\n            <div className={classes.contentBody}>\n              <form className={classes.form} onSubmit={handleResetPass}>\n                <Typography className={classes.title} variant=\"h2\">\n                  Reset Password\n                </Typography>\n                <Typography color=\"textSecondary\" gutterBottom>\n                  Create your new password in this column\n                </Typography>\n                <TextField\n                  className={classes.textField}\n                  error={hasError(\"password\")}\n                  fullWidth\n                  helperText={\n                    hasError(\"password\") ? formState.errors.password[0] : null\n                  }\n                  label=\"Password\"\n                  name=\"password\"\n                  onChange={handleChange}\n                  type=\"password\"\n                  value={formState.values.password || \"\"}\n                  variant=\"outlined\"\n                />\n                <Grid item>\n                  <Button\n                    className={classes.button}\n                    onClick={handleResetPass}\n                    size=\"large\"\n                    disabled={loading}\n                    variant=\"contained\"\n                  >\n                    {loading ? \"loading ...\" : \"Reset Password\"}\n                  </Button>\n                </Grid>\n              </form>\n            </div>\n          </div>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nResetPass.propTypes = {\n  history: PropTypes.object,\n};\n\nexport default withRouter(ResetPass);\n"]},"metadata":{},"sourceType":"module"}