{"ast":null,"code":"var _jsxFileName = \"/home/mronoyy/Documents/project/react-dashboard/src/context/articleContext.js\";\nimport React from \"react\";\nimport { apiDashManage } from \"../api/api\";\nimport axios from \"axios\";\nlet ContextType;\nconst {\n  Provider,\n  Consumer\n} = ContextType = React.createContext();\n\nclass ArticleProvider extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      article: [],\n      snackbar: {\n        loadArticle: true,\n        open: false,\n        title: \"\",\n        severity: \"\",\n        vertical: \"top\",\n        horizontal: \"right\"\n      },\n      loading: false,\n      values: {\n        title: \"\",\n        tags: [],\n        description: \"\",\n        image: null,\n        imgrequest: null,\n        picture: \"https://placehold.it/500x600\",\n        figurethumbnails: \"\"\n      },\n      loadArticle: {\n        uploadThumbnail: false,\n        articleAdd: false\n      }\n    };\n\n    this.fetchArticle = async () => {\n      const response = await axios({\n        method: \"get\",\n        url: `${apiDashManage}article`,\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      const responseJson = await response;\n\n      if (responseJson.error) {\n        this.setState({\n          snackbar: {\n            open: true,\n            title: \"Your article empty, please make first article !\",\n            severity: \"info\"\n          }\n        });\n      } else {\n        this.setState({\n          article: responseJson.data.articles,\n          snackbar: {\n            open: false,\n            loadArticle: false\n          }\n        });\n      }\n    };\n\n    this.onClose = () => {\n      this.setState({\n        snackbar: {\n          open: false\n        }\n      });\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        values: {\n          [event.target.name]: event.target.value\n        }\n      });\n    };\n\n    this.handleTags = newValue => {\n      this.setState({\n        values: {\n          tags: newValue\n        }\n      });\n    };\n\n    this.handleEditor = (event, editor) => {\n      const data = editor.getData();\n      this.setState({\n        values: {\n          description: data\n        }\n      });\n    };\n\n    this.onImageChange = e => {\n      e.preventDefault();\n      let reader = new FileReader();\n      let file = e.target.files[0];\n\n      reader.onloadend = () => {\n        this.setState({\n          values: {\n            image: file,\n            picture: reader.result,\n            figurethumbnails: file.name\n          }\n        });\n      };\n\n      reader.readAsDataURL(file);\n    };\n\n    this.addImage = () => {\n      this.setState({\n        loadArticle: {\n          uploadThumbnail: true\n        }\n      });\n      const formdata = new FormData();\n      formdata.append(\"image\", this.state.values.image);\n      axios({\n        method: \"post\",\n        url: `${apiDashManage}image`,\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        },\n        data: formdata\n      }).then(res => {\n        this.setState({\n          loadArticle: {\n            uploadThumbnail: false\n          }\n        });\n        this.setState({\n          snackbar: {\n            open: true,\n            title: \"Good job, upload success !\",\n            severity: \"success\"\n          }\n        });\n        this.setState({\n          values: {\n            imgrequest: res.data.thumbnail\n          }\n        });\n      }).catch(err => {\n        this.setState({\n          loadArticle: {\n            uploadThumbnail: false\n          }\n        });\n        this.setState({\n          snackbar: {\n            open: true,\n            title: \"Check your connection !\",\n            severity: \"error\"\n          }\n        });\n      });\n    };\n\n    this.addArticle = e => {\n      e.preventDefault();\n      this.setState({\n        loadArticle: {\n          articleAdd: true\n        }\n      });\n      const dataArticle = {\n        title: this.state.values.title,\n        tags: this.state.values.tags,\n        thumbnail: this.state.values.imgrequest,\n        description: this.state.values.description\n      };\n      axios({\n        method: \"post\",\n        url: `${apiDashManage}article`,\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        },\n        data: dataArticle\n      }).then(res => {\n        this.setState({\n          loadArticle: {\n            articleAdd: false\n          }\n        });\n        this.setState({\n          snackbar: {\n            open: true,\n            title: \"Article has been created !\",\n            severity: \"success\"\n          }\n        });\n        this.setState({\n          values: {\n            title: \"\",\n            tags: [],\n            description: \"\",\n            image: \"\",\n            picture: \"\",\n            imgrequest: null,\n            figurethumbnails: \"\"\n          }\n        });\n      }).catch(err => {\n        this.setState({\n          loadArticle: {\n            articleAdd: false\n          }\n        });\n        this.setState({\n          snackbar: {\n            open: true,\n            title: \"Check your connection !\",\n            severity: \"error\"\n          }\n        });\n        this.setState({\n          values: {\n            title: \"\",\n            tags: [],\n            description: \"\",\n            image: \"\",\n            picture: \"\",\n            imgrequest: null,\n            figurethumbnails: \"\"\n          }\n        });\n      });\n    };\n\n    this.deleteArticle = id => {\n      this.setState({\n        loading: true\n      });\n      axios.delete(`${apiDashManage}article/${id}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      }).then(() => {\n        this.setState({\n          loading: true\n        });\n        this.setState({\n          snackbar: {\n            open: true,\n            title: \"Article has been deleted !\",\n            severity: \"success\"\n          }\n        });\n        this.fetchArticle();\n      }).catch(() => {\n        this.setState({\n          loading: true\n        });\n        this.setState({\n          snackbar: {\n            open: true,\n            title: \"Check your connection !\",\n            severity: \"error\"\n          }\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.fetchArticle();\n  }\n\n  render() {\n    const {\n      children\n    } = this.props;\n    const {\n      state\n    } = this;\n    return /*#__PURE__*/React.createElement(Provider, {\n      value: { ...state,\n        onClose: this.onClose,\n        deleteArticle: this.deleteArticle,\n        handleChange: this.handleChange,\n        handleTags: this.handleTags,\n        onImageChange: this.onImageChange,\n        addImage: this.addImage,\n        addArticle: this.addArticle\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 7\n      }\n    }, children);\n  }\n\n}\n\nexport { Provider, Consumer, ContextType, ArticleProvider };","map":{"version":3,"sources":["/home/mronoyy/Documents/project/react-dashboard/src/context/articleContext.js"],"names":["React","apiDashManage","axios","ContextType","Provider","Consumer","createContext","ArticleProvider","Component","state","article","snackbar","loadArticle","open","title","severity","vertical","horizontal","loading","values","tags","description","image","imgrequest","picture","figurethumbnails","uploadThumbnail","articleAdd","fetchArticle","response","method","url","headers","Authorization","localStorage","getItem","responseJson","error","setState","data","articles","onClose","handleChange","event","target","name","value","handleTags","newValue","handleEditor","editor","getData","onImageChange","e","preventDefault","reader","FileReader","file","files","onloadend","result","readAsDataURL","addImage","formdata","FormData","append","then","res","thumbnail","catch","err","addArticle","dataArticle","deleteArticle","id","delete","componentDidMount","render","children","props"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { apiDashManage } from \"../api/api\";\nimport axios from \"axios\";\n\nlet ContextType;\nconst { Provider, Consumer } = (ContextType = React.createContext());\n\nclass ArticleProvider extends React.Component {\n  state = {\n    article: [],\n    snackbar: {\n      loadArticle: true,\n      open: false,\n      title: \"\",\n      severity: \"\",\n      vertical: \"top\",\n      horizontal: \"right\",\n    },\n    loading: false,\n    values: {\n      title: \"\",\n      tags: [],\n      description: \"\",\n      image: null,\n      imgrequest: null,\n      picture: \"https://placehold.it/500x600\",\n      figurethumbnails: \"\",\n    },\n    loadArticle: {\n      uploadThumbnail: false,\n      articleAdd: false,\n    },\n  };\n\n  componentDidMount() {\n    this.fetchArticle();\n  }\n\n  fetchArticle = async () => {\n    const response = await axios({\n      method: \"get\",\n      url: `${apiDashManage}article`,\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n    });\n    const responseJson = await response;\n    if (responseJson.error) {\n      this.setState({\n        snackbar: {\n          open: true,\n          title: \"Your article empty, please make first article !\",\n          severity: \"info\",\n        },\n      });\n    } else {\n      this.setState({\n        article: responseJson.data.articles,\n        snackbar: {\n          open: false,\n          loadArticle: false,\n        },\n      });\n    }\n  };\n\n  onClose = () => {\n    this.setState({\n      snackbar: {\n        open: false,\n      },\n    });\n  };\n\n  handleChange = (event) => {\n    this.setState({\n      values: {\n        [event.target.name]: event.target.value,\n      },\n    });\n  };\n\n  handleTags = (newValue) => {\n    this.setState({\n      values: {\n        tags: newValue,\n      },\n    });\n  };\n\n  handleEditor = (event, editor) => {\n    const data = editor.getData();\n    this.setState({\n      values: {\n        description: data,\n      },\n    });\n  };\n\n  onImageChange = (e) => {\n    e.preventDefault();\n    let reader = new FileReader();\n    let file = e.target.files[0];\n\n    reader.onloadend = () => {\n      this.setState({\n        values: {\n          image: file,\n          picture: reader.result,\n          figurethumbnails: file.name,\n        },\n      });\n    };\n\n    reader.readAsDataURL(file);\n  };\n\n  addImage = () => {\n    this.setState({\n      loadArticle: {\n        uploadThumbnail: true,\n      },\n    });\n\n    const formdata = new FormData();\n    formdata.append(\"image\", this.state.values.image);\n\n    axios({\n      method: \"post\",\n      url: `${apiDashManage}image`,\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n      data: formdata,\n    })\n      .then((res) => {\n        this.setState({\n          loadArticle: {\n            uploadThumbnail: false,\n          },\n        });\n        this.setState({\n          snackbar: {\n            open: true,\n            title: \"Good job, upload success !\",\n            severity: \"success\",\n          },\n        });\n        this.setState({\n          values: {\n            imgrequest: res.data.thumbnail,\n          },\n        });\n      })\n      .catch((err) => {\n        this.setState({\n          loadArticle: {\n            uploadThumbnail: false,\n          },\n        });\n        this.setState({\n          snackbar: {\n            open: true,\n            title: \"Check your connection !\",\n            severity: \"error\",\n          },\n        });\n      });\n  };\n\n  addArticle = (e) => {\n    e.preventDefault();\n\n    this.setState({\n      loadArticle: {\n        articleAdd: true,\n      },\n    });\n\n    const dataArticle = {\n      title: this.state.values.title,\n      tags: this.state.values.tags,\n      thumbnail: this.state.values.imgrequest,\n      description: this.state.values.description,\n    };\n\n    axios({\n      method: \"post\",\n      url: `${apiDashManage}article`,\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n      data: dataArticle,\n    })\n      .then((res) => {\n        this.setState({\n          loadArticle: {\n            articleAdd: false,\n          },\n        });\n        this.setState({\n          snackbar: {\n            open: true,\n            title: \"Article has been created !\",\n            severity: \"success\",\n          },\n        });\n        this.setState({\n          values: {\n            title: \"\",\n            tags: [],\n            description: \"\",\n            image: \"\",\n            picture: \"\",\n            imgrequest: null,\n            figurethumbnails: \"\",\n          },\n        });\n      })\n      .catch((err) => {\n        this.setState({\n          loadArticle: {\n            articleAdd: false,\n          },\n        });\n        this.setState({\n          snackbar: {\n            open: true,\n            title: \"Check your connection !\",\n            severity: \"error\",\n          },\n        });\n        this.setState({\n          values: {\n            title: \"\",\n            tags: [],\n            description: \"\",\n            image: \"\",\n            picture: \"\",\n            imgrequest: null,\n            figurethumbnails: \"\",\n          },\n        });\n      });\n  };\n\n  deleteArticle = (id) => {\n    this.setState({\n      loading: true,\n    });\n    axios\n      .delete(`${apiDashManage}article/${id}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      })\n      .then(() => {\n        this.setState({\n          loading: true,\n        });\n        this.setState({\n          snackbar: {\n            open: true,\n            title: \"Article has been deleted !\",\n            severity: \"success\",\n          },\n        });\n\n        this.fetchArticle();\n      })\n      .catch(() => {\n        this.setState({\n          loading: true,\n        });\n        this.setState({\n          snackbar: {\n            open: true,\n            title: \"Check your connection !\",\n            severity: \"error\",\n          },\n        });\n      });\n  };\n\n  render() {\n    const { children } = this.props;\n    const { state } = this;\n    return (\n      <Provider\n        value={{\n          ...state,\n          onClose: this.onClose,\n          deleteArticle: this.deleteArticle,\n          handleChange: this.handleChange,\n          handleTags: this.handleTags,\n          onImageChange: this.onImageChange,\n          addImage: this.addImage,\n          addArticle: this.addArticle,\n        }}\n      >\n        {children}\n      </Provider>\n    );\n  }\n}\n\nexport { Provider, Consumer, ContextType, ArticleProvider };\n"]},"metadata":{},"sourceType":"module"}