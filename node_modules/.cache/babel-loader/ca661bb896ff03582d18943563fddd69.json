{"ast":null,"code":"var _jsxFileName = \"/home/mronoyy/Documents/project/react-dashboard/src/views/SignIn/SignIn.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link as RouterLink, withRouter } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport validate from \"validate.js\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Grid, Button, IconButton, TextField, Link, Typography } from \"@material-ui/core\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport axios from \"axios\";\nimport { apiDashManage } from \"../../api/api\";\nimport Swal from \"sweetalert2\";\nconst schema = {\n  email: {\n    presence: {\n      allowEmpty: false,\n      message: \"is required\"\n    },\n    email: true,\n    length: {\n      maximum: 64\n    }\n  },\n  password: {\n    presence: {\n      allowEmpty: false,\n      message: \"is required\"\n    },\n    length: {\n      maximum: 128\n    }\n  }\n};\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: theme.palette.background.default,\n    height: \"100%\"\n  },\n  grid: {\n    height: \"100%\"\n  },\n  quoteContainer: {\n    [theme.breakpoints.down(\"md\")]: {\n      display: \"none\"\n    }\n  },\n  quote: {\n    backgroundColor: theme.palette.neutral,\n    height: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundImage: \"url(/images/auth.jpg)\",\n    backgroundSize: \"cover\",\n    backgroundRepeat: \"no-repeat\",\n    backgroundPosition: \"center\"\n  },\n  quoteInner: {\n    textAlign: \"center\",\n    flexBasis: \"600px\"\n  },\n  quoteText: {\n    color: theme.palette.white,\n    fontWeight: 300\n  },\n  name: {\n    marginTop: theme.spacing(3),\n    color: theme.palette.white\n  },\n  bio: {\n    color: theme.palette.white\n  },\n  contentContainer: {},\n  content: {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  contentHeader: {\n    display: \"flex\",\n    alignItems: \"center\",\n    paddingTop: theme.spacing(5),\n    paddingBototm: theme.spacing(2),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2)\n  },\n  logoImage: {\n    marginLeft: theme.spacing(4)\n  },\n  contentBody: {\n    flexGrow: 1,\n    display: \"flex\",\n    alignItems: \"center\",\n    [theme.breakpoints.down(\"md\")]: {\n      justifyContent: \"center\"\n    }\n  },\n  form: {\n    paddingLeft: 100,\n    paddingRight: 100,\n    paddingBottom: 125,\n    flexBasis: 700,\n    [theme.breakpoints.down(\"sm\")]: {\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2)\n    }\n  },\n  title: {\n    marginTop: theme.spacing(3)\n  },\n  socialButtons: {\n    marginTop: theme.spacing(3)\n  },\n  socialIcon: {\n    marginRight: theme.spacing(1)\n  },\n  sugestion: {\n    marginTop: theme.spacing(2)\n  },\n  textField: {\n    marginTop: theme.spacing(2)\n  },\n  signInButton: {\n    margin: theme.spacing(2, 0)\n  }\n}));\n\nconst SignIn = props => {\n  const {\n    history\n  } = props;\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n  const [formState, setFormState] = useState({\n    isValid: false,\n    values: {},\n    touched: {},\n    errors: {}\n  });\n  useEffect(() => {\n    const errors = validate(formState.values, schema);\n    setFormState(formState => ({ ...formState,\n      isValid: errors ? false : true,\n      errors: errors || {}\n    }));\n  }, [formState.values]);\n\n  const handleBack = () => {\n    history.goBack();\n  };\n\n  const handleChange = event => {\n    event.persist();\n    setFormState(formState => ({ ...formState,\n      values: { ...formState.values,\n        [event.target.name]: event.target.type === \"checkbox\" ? event.target.checked : event.target.value\n      },\n      touched: { ...formState.touched,\n        [event.target.name]: true\n      }\n    }));\n  };\n\n  const handleSignIn = event => {\n    event.preventDefault();\n    setLoading(true);\n    const dataUsers = {\n      password: formState.values.password,\n      email: formState.values.email\n    };\n    axios.post(`${apiDashManage + \"sign-in\"}`, dataUsers).then(res => {\n      localStorage.setItem(\"token\", res.data.token);\n      localStorage.setItem(\"data\", JSON.stringify(res.data.user));\n      setLoading(false);\n      history.push(\"/dashboard\");\n    }).catch(err => {\n      setLoading(false);\n      Swal.fire({\n        icon: \"error\",\n        title: \"Check your connections\",\n        text: \"\"\n      });\n    });\n  };\n\n  const hasError = field => formState.touched[field] && formState.errors[field] ? true : false;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    className: classes.grid,\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    className: classes.quoteContainer,\n    item: true,\n    lg: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.quote,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.quoteInner,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.quoteText,\n    variant: \"h1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, \"Hella narwhal Cosby sweater McSweeney's, salvia kitsch before they sold out High Life.\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.person,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.name,\n    variant: \"body1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 17\n    }\n  }, \"Takamaru Ayako\"), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.bio,\n    variant: \"body2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 17\n    }\n  }, \"Manager at inVision\"))))), /*#__PURE__*/React.createElement(Grid, {\n    className: classes.content,\n    item: true,\n    lg: 7,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.contentHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    onClick: handleBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ArrowBackIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.contentBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    onSubmit: handleSignIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.title,\n    variant: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 17\n    }\n  }, \"Sign in\"), /*#__PURE__*/React.createElement(TextField, {\n    className: classes.textField,\n    error: hasError(\"email\"),\n    fullWidth: true,\n    helperText: hasError(\"email\") ? formState.errors.email[0] : null,\n    label: \"Email address\",\n    name: \"email\",\n    onChange: handleChange,\n    type: \"text\",\n    value: formState.values.email || \"\",\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    className: classes.textField,\n    error: hasError(\"password\"),\n    fullWidth: true,\n    helperText: hasError(\"password\") ? formState.errors.password[0] : null,\n    label: \"Password\",\n    name: \"password\",\n    onChange: handleChange,\n    type: \"password\",\n    value: formState.values.password || \"\",\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: classes.signInButton,\n    color: \"primary\",\n    disabled: !formState.isValid,\n    fullWidth: true,\n    size: \"large\",\n    type: \"submit\",\n    variant: \"contained\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 17\n    }\n  }, loading ? \"loading...\" : \"Sign in now\"), /*#__PURE__*/React.createElement(Typography, {\n    color: \"textSecondary\",\n    variant: \"body1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 17\n    }\n  }, \"Don't have an account?\", \" \", /*#__PURE__*/React.createElement(Link, {\n    component: RouterLink,\n    to: \"/sign-up\",\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 19\n    }\n  }, \"Sign up\"), /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    component: RouterLink,\n    to: \"/verify-email\",\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 21\n    }\n  }, \"Forgot password ?\")))))))));\n};\n\nSignIn.propTypes = {\n  history: PropTypes.object\n};\nexport default withRouter(SignIn);","map":{"version":3,"sources":["/home/mronoyy/Documents/project/react-dashboard/src/views/SignIn/SignIn.js"],"names":["React","useState","useEffect","Link","RouterLink","withRouter","PropTypes","validate","makeStyles","Grid","Button","IconButton","TextField","Typography","ArrowBackIcon","axios","apiDashManage","Swal","schema","email","presence","allowEmpty","message","length","maximum","password","useStyles","theme","root","backgroundColor","palette","background","default","height","grid","quoteContainer","breakpoints","down","display","quote","neutral","justifyContent","alignItems","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","quoteInner","textAlign","flexBasis","quoteText","color","white","fontWeight","name","marginTop","spacing","bio","contentContainer","content","flexDirection","contentHeader","paddingTop","paddingBototm","paddingLeft","paddingRight","logoImage","marginLeft","contentBody","flexGrow","form","paddingBottom","title","socialButtons","socialIcon","marginRight","sugestion","textField","signInButton","margin","SignIn","props","history","classes","loading","setLoading","formState","setFormState","isValid","values","touched","errors","handleBack","goBack","handleChange","event","persist","target","type","checked","value","handleSignIn","preventDefault","dataUsers","post","then","res","localStorage","setItem","data","token","JSON","stringify","user","push","catch","err","fire","icon","text","hasError","field","person","propTypes","object"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link as RouterLink, withRouter } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport validate from \"validate.js\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport {\n  Grid,\n  Button,\n  IconButton,\n  TextField,\n  Link,\n  Typography,\n} from \"@material-ui/core\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport axios from \"axios\";\nimport { apiDashManage } from \"../../api/api\";\nimport Swal from \"sweetalert2\";\n\nconst schema = {\n  email: {\n    presence: { allowEmpty: false, message: \"is required\" },\n    email: true,\n    length: {\n      maximum: 64,\n    },\n  },\n  password: {\n    presence: { allowEmpty: false, message: \"is required\" },\n    length: {\n      maximum: 128,\n    },\n  },\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.default,\n    height: \"100%\",\n  },\n  grid: {\n    height: \"100%\",\n  },\n  quoteContainer: {\n    [theme.breakpoints.down(\"md\")]: {\n      display: \"none\",\n    },\n  },\n  quote: {\n    backgroundColor: theme.palette.neutral,\n    height: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundImage: \"url(/images/auth.jpg)\",\n    backgroundSize: \"cover\",\n    backgroundRepeat: \"no-repeat\",\n    backgroundPosition: \"center\",\n  },\n  quoteInner: {\n    textAlign: \"center\",\n    flexBasis: \"600px\",\n  },\n  quoteText: {\n    color: theme.palette.white,\n    fontWeight: 300,\n  },\n  name: {\n    marginTop: theme.spacing(3),\n    color: theme.palette.white,\n  },\n  bio: {\n    color: theme.palette.white,\n  },\n  contentContainer: {},\n  content: {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  contentHeader: {\n    display: \"flex\",\n    alignItems: \"center\",\n    paddingTop: theme.spacing(5),\n    paddingBototm: theme.spacing(2),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n  },\n  logoImage: {\n    marginLeft: theme.spacing(4),\n  },\n  contentBody: {\n    flexGrow: 1,\n    display: \"flex\",\n    alignItems: \"center\",\n    [theme.breakpoints.down(\"md\")]: {\n      justifyContent: \"center\",\n    },\n  },\n  form: {\n    paddingLeft: 100,\n    paddingRight: 100,\n    paddingBottom: 125,\n    flexBasis: 700,\n    [theme.breakpoints.down(\"sm\")]: {\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n    },\n  },\n  title: {\n    marginTop: theme.spacing(3),\n  },\n  socialButtons: {\n    marginTop: theme.spacing(3),\n  },\n  socialIcon: {\n    marginRight: theme.spacing(1),\n  },\n  sugestion: {\n    marginTop: theme.spacing(2),\n  },\n  textField: {\n    marginTop: theme.spacing(2),\n  },\n  signInButton: {\n    margin: theme.spacing(2, 0),\n  },\n}));\n\nconst SignIn = (props) => {\n  const { history } = props;\n\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n  const [formState, setFormState] = useState({\n    isValid: false,\n    values: {},\n    touched: {},\n    errors: {},\n  });\n\n  useEffect(() => {\n    const errors = validate(formState.values, schema);\n\n    setFormState((formState) => ({\n      ...formState,\n      isValid: errors ? false : true,\n      errors: errors || {},\n    }));\n  }, [formState.values]);\n\n  const handleBack = () => {\n    history.goBack();\n  };\n\n  const handleChange = (event) => {\n    event.persist();\n\n    setFormState((formState) => ({\n      ...formState,\n      values: {\n        ...formState.values,\n        [event.target.name]:\n          event.target.type === \"checkbox\"\n            ? event.target.checked\n            : event.target.value,\n      },\n      touched: {\n        ...formState.touched,\n        [event.target.name]: true,\n      },\n    }));\n  };\n\n  const handleSignIn = (event) => {\n    event.preventDefault();\n    setLoading(true);\n    const dataUsers = {\n      password: formState.values.password,\n      email: formState.values.email,\n    };\n    axios\n      .post(`${apiDashManage + \"sign-in\"}`, dataUsers)\n      .then((res) => {\n        localStorage.setItem(\"token\", res.data.token);\n        localStorage.setItem(\"data\", JSON.stringify(res.data.user));\n        setLoading(false);\n        history.push(\"/dashboard\");\n      })\n      .catch((err) => {\n        setLoading(false);\n        Swal.fire({\n          icon: \"error\",\n          title: \"Check your connections\",\n          text: \"\",\n        });\n      });\n  };\n  const hasError = (field) =>\n    formState.touched[field] && formState.errors[field] ? true : false;\n\n  return (\n    <div className={classes.root}>\n      <Grid className={classes.grid} container>\n        <Grid className={classes.quoteContainer} item lg={5}>\n          <div className={classes.quote}>\n            <div className={classes.quoteInner}>\n              <Typography className={classes.quoteText} variant=\"h1\">\n                Hella narwhal Cosby sweater McSweeney's, salvia kitsch before\n                they sold out High Life.\n              </Typography>\n              <div className={classes.person}>\n                <Typography className={classes.name} variant=\"body1\">\n                  Takamaru Ayako\n                </Typography>\n                <Typography className={classes.bio} variant=\"body2\">\n                  Manager at inVision\n                </Typography>\n              </div>\n            </div>\n          </div>\n        </Grid>\n        <Grid className={classes.content} item lg={7} xs={12}>\n          <div className={classes.content}>\n            <div className={classes.contentHeader}>\n              <IconButton onClick={handleBack}>\n                <ArrowBackIcon />\n              </IconButton>\n            </div>\n            <div className={classes.contentBody}>\n              <form className={classes.form} onSubmit={handleSignIn}>\n                <Typography className={classes.title} variant=\"h2\">\n                  Sign in\n                </Typography>\n                <TextField\n                  className={classes.textField}\n                  error={hasError(\"email\")}\n                  fullWidth\n                  helperText={\n                    hasError(\"email\") ? formState.errors.email[0] : null\n                  }\n                  label=\"Email address\"\n                  name=\"email\"\n                  onChange={handleChange}\n                  type=\"text\"\n                  value={formState.values.email || \"\"}\n                  variant=\"outlined\"\n                />\n                <TextField\n                  className={classes.textField}\n                  error={hasError(\"password\")}\n                  fullWidth\n                  helperText={\n                    hasError(\"password\") ? formState.errors.password[0] : null\n                  }\n                  label=\"Password\"\n                  name=\"password\"\n                  onChange={handleChange}\n                  type=\"password\"\n                  value={formState.values.password || \"\"}\n                  variant=\"outlined\"\n                />\n                <Button\n                  className={classes.signInButton}\n                  color=\"primary\"\n                  disabled={!formState.isValid}\n                  fullWidth\n                  size=\"large\"\n                  type=\"submit\"\n                  variant=\"contained\"\n                >\n                  {loading ? \"loading...\" : \"Sign in now\"}\n                </Button>\n                <Typography color=\"textSecondary\" variant=\"body1\">\n                  Don't have an account?{\" \"}\n                  <Link component={RouterLink} to=\"/sign-up\" variant=\"h6\">\n                    Sign up\n                  </Link>\n                  <Typography>\n                    <Link\n                      component={RouterLink}\n                      to=\"/verify-email\"\n                      variant=\"h6\"\n                    >\n                      Forgot password ?\n                    </Link>\n                  </Typography>\n                </Typography>\n              </form>\n            </div>\n          </div>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nSignIn.propTypes = {\n  history: PropTypes.object,\n};\n\nexport default withRouter(SignIn);\n"]},"metadata":{},"sourceType":"module"}