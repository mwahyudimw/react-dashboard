{"ast":null,"code":"import _objectSpread from \"/home/dimas/git/react-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/dimas/git/react-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/dimas/git/react-dashboard/src/views/ProductList/components/ProductCard/ProductCard.js\";\nimport React from \"react\";\nimport MaterialTable from \"material-table\";\nimport { renameProp } from \"recompose\";\nimport axios from \"axios\";\nimport { apiDashManage } from \"../../../../api/api\";\nexport default function ProductCard() {\n  const _React$useState = React.useState(\"\"),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        token = _React$useState2[0],\n        setToken = _React$useState2[1];\n\n  const _React$useState3 = React.useState([]),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        data = _React$useState4[0],\n        setData = _React$useState4[1];\n\n  const _React$useState5 = React.useState({\n    columns: [{\n      title: \"Name Products\",\n      field: \"name_product\"\n    }, {\n      title: \"Category Products\",\n      field: \"category_products\"\n    }, {\n      title: \"Years\",\n      field: \"years\"\n    }, {\n      title: \"Price\",\n      field: \"price\"\n    }, {\n      title: \"Status\",\n      field: \"option\",\n      lookup: {\n        34: \"Available\",\n        63: \"Not Available\"\n      }\n    }],\n    data: [data.map(res => ({\n      name_product: res.name,\n      category_products: res.categoryId.name,\n      years: res.createdAt,\n      price: res.price,\n      option: 63\n    }))]\n  }),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        state = _React$useState6[0],\n        setState = _React$useState6[1];\n\n  React.useEffect(() => {\n    setToken(localStorage.getItem(\"token\"));\n    handleGetProduct();\n  }, []);\n  React.useEffect(() => {\n    console.log(\"datapro\", data);\n  });\n\n  const handleGetProduct = () => {\n    axios({\n      method: \"get\",\n      url: \"\".concat(apiDashManage + \"product\"),\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    }).then(res => {\n      console.log(\"res\", res);\n      console.log(\"res2\", res.data.products);\n      setData(res.data.products);\n    }).catch(err => {\n      console.log(err);\n    });\n  }; // const handlePostProduct = () => {\n  //   axios({\n  //     method: \"post\",\n  //     url: `${apiDashManage + \"product\"}`,\n  //     headers: {\n  //       Authorization: \"Bearer \" + token,\n  //     },\n  //   })\n  //     .then((res) => console.log(\"masuk\", res))\n  //     .catch((err) => {\n  //       console.log(err);\n  //     });\n  // };\n\n\n  return React.createElement(MaterialTable, {\n    title: \"Products\",\n    columns: state.columns,\n    data: state.data,\n    editable: {\n      onRowAdd: newData => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n          setState(prevState => {\n            const data = [...prevState.data];\n            data.push(newData);\n            return _objectSpread({}, prevState, {\n              data\n            });\n          });\n        }, 600);\n      }),\n      onRowUpdate: (newData, oldData) => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n\n          if (oldData) {\n            setState(prevState => {\n              const data = [...prevState.data];\n              data[data.indexOf(oldData)] = newData;\n              return _objectSpread({}, prevState, {\n                data\n              });\n            });\n          }\n        }, 600);\n      }),\n      onRowDelete: oldData => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n          setState(prevState => {\n            const data = [...prevState.data];\n            data.splice(data.indexOf(oldData), 1);\n            return _objectSpread({}, prevState, {\n              data\n            });\n          });\n        }, 600);\n      })\n    },\n    options: {\n      headerStyle: {\n        fontSize: \"15px\",\n        fontWeight: \"bold\",\n        borderRight: \"1px solid #ccc\"\n      },\n      rowStyle: {\n        fontFamily: \"Roboto,Helvetica,Arial,sans-serif\"\n      },\n      exportButton: true\n    } // detailPanel={(rowData) => {\n    // \treturn (\n    // \t\t<img\n    // \t\t\tstyle={{\n    // \t\t\t\twidth: '50%',\n    // \t\t\t\theight: '400px',\n    // \t\t\t\tdisplay: 'block',\n    // \t\t\t\tmarginLeft: 'auto',\n    // \t\t\t\tmarginRight: 'auto'\n    // \t\t\t}}\n    // \t\t\tsrc=\"https://images.unsplash.com/photo-1495231916356-a86217efff12?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=676&q=80\"\n    // \t\t/>\n    // \t);\n    // }}\n    //   onRowClick={(event, rowData, togglePanel) => togglePanel()}\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  });\n}","map":{"version":3,"sources":["/home/dimas/git/react-dashboard/src/views/ProductList/components/ProductCard/ProductCard.js"],"names":["React","MaterialTable","renameProp","axios","apiDashManage","ProductCard","useState","token","setToken","data","setData","columns","title","field","lookup","map","res","name_product","name","category_products","categoryId","years","createdAt","price","option","state","setState","useEffect","localStorage","getItem","handleGetProduct","console","log","method","url","headers","Authorization","then","products","catch","err","onRowAdd","newData","Promise","resolve","setTimeout","prevState","push","onRowUpdate","oldData","indexOf","onRowDelete","splice","headerStyle","fontSize","fontWeight","borderRight","rowStyle","fontFamily","exportButton"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport MaterialTable from \"material-table\";\nimport { renameProp } from \"recompose\";\nimport axios from \"axios\";\nimport { apiDashManage } from \"../../../../api/api\";\n\nexport default function ProductCard() {\n  const [token, setToken] = React.useState(\"\");\n  const [data, setData] = React.useState([]);\n  const [state, setState] = React.useState({\n    columns: [\n      { title: \"Name Products\", field: \"name_product\" },\n      { title: \"Category Products\", field: \"category_products\" },\n      { title: \"Years\", field: \"years\" },\n      { title: \"Price\", field: \"price\" },\n      {\n        title: \"Status\",\n        field: \"option\",\n        lookup: { 34: \"Available\", 63: \"Not Available\" },\n      },\n    ],\n    data: [\n      data.map((res) => ({\n        name_product: res.name,\n        category_products: res.categoryId.name,\n        years: res.createdAt,\n        price: res.price,\n        option: 63,\n      })),\n      // {\n      //   name_product: \"Mehmet\",\n      //   category_products: \"Baran\",\n      //   years: 1987,\n      //   price: \"Rp. 75.000\",\n      //   option: 63,\n      // },\n      // {\n      //   name_product: \"Daun\",\n      //   category_products: \"Baran\",\n      //   years: 2017,\n      //   price: \"Rp. 80.000\",\n      //   option: 34,\n      // },\n      // {\n      //   name_product: \"Mehmet\",\n      //   category_products: \"Baran\",\n      //   years: 1987,\n      //   price: \"Rp. 90.000\",\n      //   option: 63,\n      // },\n      // {\n      //   name_product: \"Daun\",\n      //   category_products: \"Baran\",\n      //   years: 2017,\n      //   price: \"Rp. 100.000\",\n      //   option: 34,\n      // },\n      // {\n      //   name_product: \"Mehmet\",\n      //   category_products: \"Baran\",\n      //   years: 1987,\n      //   price: \"Rp. 85.000\",\n      //   option: 63,\n      // },\n      // {\n      //   name_product: \"Daun\",\n      //   category_products: \"Baran\",\n      //   years: 2017,\n      //   price: \"Rp. 95.000\",\n      //   option: 34,\n      // },\n    ],\n  });\n  React.useEffect(() => {\n    setToken(localStorage.getItem(\"token\"));\n    handleGetProduct();\n  }, []);\n\n  React.useEffect(() => {\n    console.log(\"datapro\", data);\n  });\n\n  const handleGetProduct = () => {\n    axios({\n      method: \"get\",\n      url: `${apiDashManage + \"product\"}`,\n      headers: {\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then((res) => {\n        console.log(\"res\", res);\n        console.log(\"res2\", res.data.products);\n        setData(res.data.products);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  // const handlePostProduct = () => {\n  //   axios({\n  //     method: \"post\",\n  //     url: `${apiDashManage + \"product\"}`,\n  //     headers: {\n  //       Authorization: \"Bearer \" + token,\n  //     },\n  //   })\n  //     .then((res) => console.log(\"masuk\", res))\n  //     .catch((err) => {\n  //       console.log(err);\n  //     });\n  // };\n\n  return (\n    <MaterialTable\n      title=\"Products\"\n      columns={state.columns}\n      data={state.data}\n      editable={{\n        onRowAdd: (newData) =>\n          new Promise((resolve) => {\n            setTimeout(() => {\n              resolve();\n              setState((prevState) => {\n                const data = [...prevState.data];\n                data.push(newData);\n                return { ...prevState, data };\n              });\n            }, 600);\n          }),\n        onRowUpdate: (newData, oldData) =>\n          new Promise((resolve) => {\n            setTimeout(() => {\n              resolve();\n              if (oldData) {\n                setState((prevState) => {\n                  const data = [...prevState.data];\n                  data[data.indexOf(oldData)] = newData;\n                  return { ...prevState, data };\n                });\n              }\n            }, 600);\n          }),\n        onRowDelete: (oldData) =>\n          new Promise((resolve) => {\n            setTimeout(() => {\n              resolve();\n              setState((prevState) => {\n                const data = [...prevState.data];\n                data.splice(data.indexOf(oldData), 1);\n                return { ...prevState, data };\n              });\n            }, 600);\n          }),\n      }}\n      options={{\n        headerStyle: {\n          fontSize: \"15px\",\n          fontWeight: \"bold\",\n          borderRight: \"1px solid #ccc\",\n        },\n        rowStyle: {\n          fontFamily: \"Roboto,Helvetica,Arial,sans-serif\",\n        },\n        exportButton: true,\n      }}\n      // detailPanel={(rowData) => {\n      // \treturn (\n      // \t\t<img\n      // \t\t\tstyle={{\n      // \t\t\t\twidth: '50%',\n      // \t\t\t\theight: '400px',\n      // \t\t\t\tdisplay: 'block',\n      // \t\t\t\tmarginLeft: 'auto',\n      // \t\t\t\tmarginRight: 'auto'\n      // \t\t\t}}\n      // \t\t\tsrc=\"https://images.unsplash.com/photo-1495231916356-a86217efff12?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=676&q=80\"\n      // \t\t/>\n      // \t);\n      // }}\n      //   onRowClick={(event, rowData, togglePanel) => togglePanel()}\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}