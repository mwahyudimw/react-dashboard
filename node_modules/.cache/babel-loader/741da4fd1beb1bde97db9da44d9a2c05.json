{"ast":null,"code":"var _jsxFileName = \"/home/mronoyy/Documents/project/react-dashboard/src/views/Article/components/ManageArticle.js\";\nimport React, { useState } from \"react\";\nimport { Card, CardHeader, CardContent, CardActions, Divider, Button, TextField, Typography } from \"@material-ui/core\";\nimport Swal from \"sweetalert2\";\nimport CKEditor from \"@ckeditor/ckeditor5-react\";\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\nimport Select from \"react-select\";\nimport axios from \"axios\";\nconst customStyles = {\n  option: (provided, state) => ({ ...provided,\n    borderBottom: \"1px dotted pink\",\n    color: state.isSelected ? \"red\" : \"blue\",\n    padding: 20,\n    marginBottom: \"1rem\"\n  }),\n  control: () => ({\n    // none of react-select's styles are passed to <Control />\n    width: 200\n  }),\n  singleValue: (provided, state) => {\n    const opacity = state.isDisabled ? 0.5 : 1;\n    const transition = \"opacity 300ms\";\n    return { ...provided,\n      opacity,\n      transition\n    };\n  }\n};\n\nconst ManageArticle = () => {\n  const [values, setValues] = useState({\n    title: \"\",\n    tags: [],\n    description: \"\",\n    image: null,\n    figurethumbnails: \"\",\n    base64: \"\"\n  });\n  const [loading, setLoading] = useState(true);\n  const [loadArticle, setLoadArtile] = useState(false);\n\n  const handleChange = event => {\n    setValues({ ...values,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleTags = e => {\n    const tag = e.target.value.split(\",\");\n    setValues(values => ({ ...values,\n      tags: tag\n    }));\n  };\n\n  const onImageChange = e => {\n    e.preventDefault();\n    let reader = new FileReader();\n    let file = e.target.files[0];\n\n    reader.onloadend = () => {\n      setLoading(false);\n      setValues(values => ({ ...values,\n        image: file,\n        figurethumbnails: file.name,\n        base64: reader.result\n      }));\n    };\n\n    reader.readAsDataURL(file);\n  };\n\n  const addArticle = e => {\n    e.preventDefault();\n    setLoadArtile(true);\n    const formData = new FormData();\n    formData.append(\"title\", values.title);\n    formData.append(\"tags\", values.tags);\n    formData.append(\"description\", values.description);\n    formData.append(\"image\", values.image);\n    axios({\n      method: \"post\",\n      url: `http://dashmanage.herokuapp.com/api/v1/article`,\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      },\n      data: formData\n    }).then(() => {\n      setLoadArtile(false);\n      Swal.fire(\"Success !\", \"Article has been created\", \"success\");\n    }).catch(() => {\n      setLoadArtile(false);\n      Swal.fire({\n        icon: \"error\",\n        title: \"Check your connections\",\n        text: \"\"\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    subheader: \"Manage your Article\",\n    title: \"Article\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    label: \"Title\",\n    name: \"title\",\n    onChange: handleChange,\n    type: \"text\",\n    value: values.title,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Select, {\n    style: customStyles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(CKEditor, {\n    editor: ClassicEditor,\n    onChange: (event, editor) => {\n      const data = editor.getData();\n      setValues(values => ({ ...values,\n        description: data\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    encType: \"multipart/form-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    variant: \"outlined\",\n    component: \"label\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, \"Upload Thumbnail\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"image\",\n    style: {\n      display: \"none\"\n    },\n    onChange: onImageChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    style: {\n      marginTop: 25\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, loading ? \"No file choosen\" : values.figurethumbnails))), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(CardActions, {\n    style: {\n      justifyContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    variant: \"outlined\",\n    onClick: addArticle,\n    disabled: loadArticle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, loadArticle ? \"Loading ...\" : \"Add Article\"))));\n};\n\nexport default ManageArticle;","map":{"version":3,"sources":["/home/mronoyy/Documents/project/react-dashboard/src/views/Article/components/ManageArticle.js"],"names":["React","useState","Card","CardHeader","CardContent","CardActions","Divider","Button","TextField","Typography","Swal","CKEditor","ClassicEditor","Select","axios","customStyles","option","provided","state","borderBottom","color","isSelected","padding","marginBottom","control","width","singleValue","opacity","isDisabled","transition","ManageArticle","values","setValues","title","tags","description","image","figurethumbnails","base64","loading","setLoading","loadArticle","setLoadArtile","handleChange","event","target","name","value","handleTags","e","tag","split","onImageChange","preventDefault","reader","FileReader","file","files","onloadend","result","readAsDataURL","addArticle","formData","FormData","append","method","url","headers","Authorization","localStorage","getItem","data","then","fire","catch","icon","text","editor","getData","marginTop","display","justifyContent"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  CardActions,\n  Divider,\n  Button,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport Swal from \"sweetalert2\";\nimport CKEditor from \"@ckeditor/ckeditor5-react\";\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\nimport Select from \"react-select\";\nimport axios from \"axios\";\n\nconst customStyles = {\n  option: (provided, state) => ({\n    ...provided,\n    borderBottom: \"1px dotted pink\",\n    color: state.isSelected ? \"red\" : \"blue\",\n    padding: 20,\n    marginBottom: \"1rem\",\n  }),\n  control: () => ({\n    // none of react-select's styles are passed to <Control />\n    width: 200,\n  }),\n  singleValue: (provided, state) => {\n    const opacity = state.isDisabled ? 0.5 : 1;\n    const transition = \"opacity 300ms\";\n\n    return { ...provided, opacity, transition };\n  },\n};\n\nconst ManageArticle = () => {\n  const [values, setValues] = useState({\n    title: \"\",\n    tags: [],\n    description: \"\",\n    image: null,\n    figurethumbnails: \"\",\n    base64: \"\",\n  });\n  const [loading, setLoading] = useState(true);\n  const [loadArticle, setLoadArtile] = useState(false);\n\n  const handleChange = (event) => {\n    setValues({\n      ...values,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleTags = (e) => {\n    const tag = e.target.value.split(\",\");\n\n    setValues((values) => ({\n      ...values,\n      tags: tag,\n    }));\n  };\n\n  const onImageChange = (e) => {\n    e.preventDefault();\n    let reader = new FileReader();\n    let file = e.target.files[0];\n\n    reader.onloadend = () => {\n      setLoading(false);\n      setValues((values) => ({\n        ...values,\n        image: file,\n        figurethumbnails: file.name,\n        base64: reader.result,\n      }));\n    };\n\n    reader.readAsDataURL(file);\n  };\n\n  const addArticle = (e) => {\n    e.preventDefault();\n    setLoadArtile(true);\n\n    const formData = new FormData();\n    formData.append(\"title\", values.title);\n    formData.append(\"tags\", values.tags);\n    formData.append(\"description\", values.description);\n    formData.append(\"image\", values.image);\n\n    axios({\n      method: \"post\",\n      url: `http://dashmanage.herokuapp.com/api/v1/article`,\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n      data: formData,\n    })\n      .then(() => {\n        setLoadArtile(false);\n        Swal.fire(\"Success !\", \"Article has been created\", \"success\");\n      })\n      .catch(() => {\n        setLoadArtile(false);\n        Swal.fire({\n          icon: \"error\",\n          title: \"Check your connections\",\n          text: \"\",\n        });\n      });\n  };\n\n  return (\n    <>\n      <Card>\n        <CardHeader subheader=\"Manage your Article\" title=\"Article\" />\n        <Divider />\n        <CardContent>\n          <TextField\n            fullWidth\n            label=\"Title\"\n            name=\"title\"\n            onChange={handleChange}\n            type=\"text\"\n            value={values.title}\n            variant=\"outlined\"\n          />\n          {/* <TextField\n            fullWidth\n            label=\"Tags\"\n            onChange={handleTags}\n            style={{ marginTop: \"1rem\", marginBottom: \"1rem\" }}\n            type=\"text\"\n            variant=\"outlined\"\n            value={values.tags}\n            placeholder=\"tags1,tags2,tags3\"\n          /> */}\n          <Select style={customStyles} />\n          <CKEditor\n            editor={ClassicEditor}\n            onChange={(event, editor) => {\n              const data = editor.getData();\n              setValues((values) => ({\n                ...values,\n                description: data,\n              }));\n            }}\n          />\n          <form encType=\"multipart/form-data\">\n            <Button\n              color=\"primary\"\n              variant=\"outlined\"\n              component=\"label\"\n              style={{ marginTop: \"1rem\" }}\n            >\n              Upload Thumbnail\n              <input\n                type=\"file\"\n                name=\"image\"\n                style={{ display: \"none\" }}\n                onChange={onImageChange}\n              />\n            </Button>\n            <Typography variant=\"body1\" style={{ marginTop: 25 }}>\n              {loading ? \"No file choosen\" : values.figurethumbnails}\n            </Typography>\n          </form>\n        </CardContent>\n        <Divider />\n        <CardActions style={{ justifyContent: \"center\" }}>\n          <Button\n            color=\"primary\"\n            variant=\"outlined\"\n            onClick={addArticle}\n            disabled={loadArticle}\n          >\n            {loadArticle ? \"Loading ...\" : \"Add Article\"}\n          </Button>\n        </CardActions>\n      </Card>\n    </>\n  );\n};\n\nexport default ManageArticle;\n"]},"metadata":{},"sourceType":"module"}