{"ast":null,"code":"var _jsxFileName = \"/home/mronoyy/Documents/project/react-dashboard/src/views/Article/components/Edit.js\";\nimport React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Card, CardHeader, CardContent, CardActions, Divider, Button, TextField, Avatar } from \"@material-ui/core\";\nimport { Consumer } from \"context/articleContext\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport CKEditor from \"@ckeditor/ckeditor5-react\";\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\nimport CreatableSelect from \"react-select/creatable\";\nimport makeAnimated from \"react-select/animated\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\n\nfunction Alert(props) {\n  return /*#__PURE__*/React.createElement(MuiAlert, Object.assign({\n    elevation: 6,\n    variant: \"filled\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 10\n    }\n  }));\n}\n\nconst useStyles = makeStyles(theme => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  },\n  details: {\n    display: \"flex\"\n  },\n  avatar: {\n    marginLeft: \"auto\",\n    height: 110,\n    width: 100,\n    flexShrink: 0,\n    flexGrow: 0\n  },\n  uploadButton: {\n    marginRight: theme.spacing(2)\n  }\n}));\nconst customStyles = {\n  container: () => ({\n    marginBottom: \"1rem\",\n    marginTop: \"1rem\"\n  }),\n  menu: () => ({\n    width: \"100%\"\n  })\n};\nconst animatedComponents = makeAnimated();\nexport default function Edit({\n  open,\n  handleClose\n}) {\n  const classes = useStyles(); // const handleChange = (event) => {\n  //   setValues({\n  //     ...values,\n  //     [event.target.name]: event.target.value,\n  //   });\n  // };\n  // const handleTags = (newValue) => {\n  //   setValues((values) => ({\n  //     ...values,\n  //     tags: newValue,\n  //   }));\n  // };\n  // const onImageChange = (e) => {\n  //   e.preventDefault();\n  //   let reader = new FileReader();\n  //   let file = e.target.files[0];\n  //   reader.onloadend = () => {\n  //     setValues((values) => ({\n  //       ...values,\n  //       image: file,\n  //       picture: reader.result,\n  //       figurethumbnails: file.name,\n  //     }));\n  //   };\n  //   reader.readAsDataURL(file);\n  // };\n  // const addImage = () => {\n  //   setLoadArtile((loadingArticle) => ({\n  //     ...loadingArticle,\n  //     editThumbnail: true,\n  //   }));\n  //   const formdata = new FormData();\n  //   formdata.append(\"image\", values.image);\n  //   axios({\n  //     method: \"post\",\n  //     url: `${apiDashManage}image`,\n  //     headers: {\n  //       Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n  //     },\n  //     data: formdata,\n  //   })\n  //     .then((res) => {\n  //       setLoadArtile((loadingArticle) => ({\n  //         ...loadingArticle,\n  //         editThumbnail: false,\n  //       }));\n  //       setState((state) => ({\n  //         ...state,\n  //         open: true,\n  //         title: \"Good job success !\",\n  //         severity: \"success\",\n  //       }));\n  //       setValues((values) => ({\n  //         ...values,\n  //         imgrequest: res.data.thumbnail,\n  //       }));\n  //     })\n  //     .catch((err) => {\n  //       setLoadArtile((loadingArticle) => ({\n  //         ...loadingArticle,\n  //         editThumbnail: false,\n  //       }));\n  //       setState((state) => ({\n  //         ...state,\n  //         open: true,\n  //         title: \"Check your connection !\",\n  //         severity: \"error\",\n  //       }));\n  //     });\n  // };\n  // const editArticle = (e) => {\n  //   e.preventDefault();\n  //   setLoadArtile((loadArticle) => ({\n  //     ...loadArticle,\n  //     loadingArticle: true,\n  //   }));\n  //   // const dataArticle = {\n  //   //   title: values.title,\n  //   //   tags: values.tags,\n  //   //   thumbnail: values.imgrequest,\n  //   //   description: values.description,\n  //   // };\n  //   let formData = new FormData();\n  //   formData.append(\"title\", values.title);\n  //   const json_arr = JSON.stringify(values.tags);\n  //   formData.append(\"tags\", json_arr);\n  //   formData.append(\"thumbnail\", values.imgrequest);\n  //   formData.append(\"description\", values.description);\n  //   axios({\n  //     method: \"put\",\n  //     url: `${apiDashManage}article`,\n  //     headers: {\n  //       Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n  //     },\n  //     data: formData,\n  //   })\n  //     .then((res) => {\n  //       setLoadArtile((loadArticle) => ({\n  //         ...loadArticle,\n  //         loadingArticle: false,\n  //       }));\n  //       setState((state) => ({\n  //         ...state,\n  //         open: true,\n  //         title: \"Article has been edited !\",\n  //         severity: \"success\",\n  //       }));\n  //       setValues((values) => ({\n  //         ...values,\n  //         title: \"\",\n  //         tags: [],\n  //         description: \"\",\n  //         image: \"\",\n  //         picture: \"\",\n  //         imgrequest: null,\n  //         figurethumbnails: \"\",\n  //       }));\n  //     })\n  //     .catch((err) => {\n  //       setLoadArtile((loadArticle) => ({\n  //         ...loadArticle,\n  //         loadingArticle: false,\n  //       }));\n  //       setState((state) => ({\n  //         ...state,\n  //         open: true,\n  //         title: \"Check your connection !\",\n  //         severity: \"error\",\n  //       }));\n  //       setValues((values) => ({\n  //         ...values,\n  //         title: \"\",\n  //         tags: [],\n  //         description: \"\",\n  //         image: \"\",\n  //         picture: \"\",\n  //         imgrequest: null,\n  //         figurethumbnails: \"\",\n  //       }));\n  //     });\n  // };\n  // const { severity, title, vertical, horizontal } = state;\n  // const { loadingArticle, editThumbnail } = loadArticle;\n\n  return /*#__PURE__*/React.createElement(Consumer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 5\n    }\n  }, ({\n    snackbar,\n    values,\n    loadArticle,\n    handleEditor,\n    onClose,\n    handleChange,\n    handleTags,\n    onImageChange,\n    addImage,\n    addArticle\n  }) => {\n    const {\n      vertical,\n      horizontal,\n      open,\n      title,\n      severity\n    } = snackbar;\n    const {\n      picture\n    } = values;\n    const {\n      editArticle,\n      articleEdit\n    } = loadArticle;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Snackbar, {\n      anchorOrigin: {\n        vertical,\n        horizontal\n      },\n      open: open,\n      autoHideDuration: 6000,\n      onClose: onClose,\n      key: vertical + horizontal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Alert, {\n      onClose: onClose,\n      severity: severity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 15\n      }\n    }, title)), /*#__PURE__*/React.createElement(Modal, {\n      \"aria-labelledby\": \"transition-modal-title\",\n      \"aria-describedby\": \"transition-modal-description\",\n      className: classes.modal,\n      open: open,\n      onClose: handleClose,\n      closeAfterTransition: true,\n      BackdropComponent: Backdrop,\n      BackdropProps: {\n        timeout: 500\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Fade, {\n      in: open,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      subheader: \"Edit your Article\",\n      title: \"Article\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      id: \"myform\",\n      encType: \"multipart/form-data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.details,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      className: classes.avatar,\n      src: picture,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        position: \"absolute\",\n        marginTop: \"40px\",\n        cursor: \"pointer\"\n      },\n      type: \"file\",\n      onChange: onImageChange,\n      name: \"image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(CardActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: addImage,\n      className: classes.uploadButton,\n      disabled: editArticle,\n      color: \"primary\",\n      variant: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 23\n      }\n    }, editArticle ? \"Loading...\" : \"Edit Thumbnail\"))), /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      fullWidth: true,\n      label: \"Title\",\n      name: \"title\",\n      onChange: handleChange,\n      type: \"text\",\n      value: values.title,\n      variant: \"outlined\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(CreatableSelect, {\n      isMulti: true,\n      onChange: handleTags,\n      components: animatedComponents,\n      styles: customStyles,\n      placeholder: \"Add more tags...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(CKEditor, {\n      editor: ClassicEditor,\n      onChange: (event, editor) => handleEditor(event, editor),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(CardActions, {\n      style: {\n        justifyContent: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      variant: \"outlined\",\n      onClick: editArticle,\n      disabled: loadingArticle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 21\n      }\n    }, loadingArticle ? \"Loading ...\" : \"Edit Article\"))))));\n  });\n}","map":{"version":3,"sources":["/home/mronoyy/Documents/project/react-dashboard/src/views/Article/components/Edit.js"],"names":["React","useState","makeStyles","Card","CardHeader","CardContent","CardActions","Divider","Button","TextField","Avatar","Consumer","Snackbar","MuiAlert","CKEditor","ClassicEditor","CreatableSelect","makeAnimated","Modal","Backdrop","Fade","Alert","props","useStyles","theme","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","details","avatar","marginLeft","height","width","flexShrink","flexGrow","uploadButton","marginRight","customStyles","container","marginBottom","marginTop","menu","animatedComponents","Edit","open","handleClose","classes","snackbar","values","loadArticle","handleEditor","onClose","handleChange","handleTags","onImageChange","addImage","addArticle","vertical","horizontal","title","severity","picture","editArticle","articleEdit","timeout","position","cursor","event","editor","loadingArticle"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SACEC,IADF,EAEEC,UAFF,EAGEC,WAHF,EAIEC,WAJF,EAKEC,OALF,EAMEC,MANF,EAOEC,SAPF,EAQEC,MARF,QASO,mBATP;AAUA,SAASC,QAAT,QAAyB,wBAAzB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,aAAP,MAA0B,mCAA1B;AACA,OAAOC,eAAP,MAA4B,wBAA5B;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AACpB,sBAAO,oBAAC,QAAD;AAAU,IAAA,SAAS,EAAE,CAArB;AAAwB,IAAA,OAAO,EAAC;AAAhC,KAA6CA,KAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;AACD;;AAED,MAAMC,SAAS,GAAGrB,UAAU,CAAEsB,KAAD,KAAY;AACvCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,OAAO,EAAE,MADJ;AAELC,IAAAA,UAAU,EAAE,QAFP;AAGLC,IAAAA,cAAc,EAAE;AAHX,GADgC;AAMvCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,eAAe,EAAEN,KAAK,CAACO,OAAN,CAAcC,UAAd,CAAyBH,KADrC;AAELI,IAAAA,MAAM,EAAE,gBAFH;AAGLC,IAAAA,SAAS,EAAEV,KAAK,CAACW,OAAN,CAAc,CAAd,CAHN;AAILC,IAAAA,OAAO,EAAEZ,KAAK,CAACa,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB;AAJJ,GANgC;AAavCC,EAAAA,OAAO,EAAE;AACPZ,IAAAA,OAAO,EAAE;AADF,GAb8B;AAgBvCa,EAAAA,MAAM,EAAE;AACNC,IAAAA,UAAU,EAAE,MADN;AAENC,IAAAA,MAAM,EAAE,GAFF;AAGNC,IAAAA,KAAK,EAAE,GAHD;AAINC,IAAAA,UAAU,EAAE,CAJN;AAKNC,IAAAA,QAAQ,EAAE;AALJ,GAhB+B;AAwBvCC,EAAAA,YAAY,EAAE;AACZC,IAAAA,WAAW,EAAEtB,KAAK,CAACa,OAAN,CAAc,CAAd;AADD;AAxByB,CAAZ,CAAD,CAA5B;AA6BA,MAAMU,YAAY,GAAG;AACnBC,EAAAA,SAAS,EAAE,OAAO;AAChBC,IAAAA,YAAY,EAAE,MADE;AAEhBC,IAAAA,SAAS,EAAE;AAFK,GAAP,CADQ;AAKnBC,EAAAA,IAAI,EAAE,OAAO;AACXT,IAAAA,KAAK,EAAE;AADI,GAAP;AALa,CAArB;AAUA,MAAMU,kBAAkB,GAAGnC,YAAY,EAAvC;AAEA,eAAe,SAASoC,IAAT,CAAc;AAAEC,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAAd,EAAqC;AAClD,QAAMC,OAAO,GAAGjC,SAAS,EAAzB,CADkD,CAGlD;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","sourcesContent":["import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  CardActions,\n  Divider,\n  Button,\n  TextField,\n  Avatar,\n} from \"@material-ui/core\";\nimport { Consumer } from \"context/articleContext\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport CKEditor from \"@ckeditor/ckeditor5-react\";\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\nimport CreatableSelect from \"react-select/creatable\";\nimport makeAnimated from \"react-select/animated\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n\n  details: {\n    display: \"flex\",\n  },\n  avatar: {\n    marginLeft: \"auto\",\n    height: 110,\n    width: 100,\n    flexShrink: 0,\n    flexGrow: 0,\n  },\n\n  uploadButton: {\n    marginRight: theme.spacing(2),\n  },\n}));\n\nconst customStyles = {\n  container: () => ({\n    marginBottom: \"1rem\",\n    marginTop: \"1rem\",\n  }),\n  menu: () => ({\n    width: \"100%\",\n  }),\n};\n\nconst animatedComponents = makeAnimated();\n\nexport default function Edit({ open, handleClose }) {\n  const classes = useStyles();\n\n  // const handleChange = (event) => {\n  //   setValues({\n  //     ...values,\n  //     [event.target.name]: event.target.value,\n  //   });\n  // };\n\n  // const handleTags = (newValue) => {\n  //   setValues((values) => ({\n  //     ...values,\n  //     tags: newValue,\n  //   }));\n  // };\n\n  // const onImageChange = (e) => {\n  //   e.preventDefault();\n  //   let reader = new FileReader();\n  //   let file = e.target.files[0];\n\n  //   reader.onloadend = () => {\n  //     setValues((values) => ({\n  //       ...values,\n  //       image: file,\n  //       picture: reader.result,\n  //       figurethumbnails: file.name,\n  //     }));\n  //   };\n\n  //   reader.readAsDataURL(file);\n  // };\n\n  // const addImage = () => {\n  //   setLoadArtile((loadingArticle) => ({\n  //     ...loadingArticle,\n  //     editThumbnail: true,\n  //   }));\n  //   const formdata = new FormData();\n  //   formdata.append(\"image\", values.image);\n\n  //   axios({\n  //     method: \"post\",\n  //     url: `${apiDashManage}image`,\n  //     headers: {\n  //       Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n  //     },\n  //     data: formdata,\n  //   })\n  //     .then((res) => {\n  //       setLoadArtile((loadingArticle) => ({\n  //         ...loadingArticle,\n  //         editThumbnail: false,\n  //       }));\n  //       setState((state) => ({\n  //         ...state,\n  //         open: true,\n  //         title: \"Good job success !\",\n  //         severity: \"success\",\n  //       }));\n  //       setValues((values) => ({\n  //         ...values,\n  //         imgrequest: res.data.thumbnail,\n  //       }));\n  //     })\n  //     .catch((err) => {\n  //       setLoadArtile((loadingArticle) => ({\n  //         ...loadingArticle,\n  //         editThumbnail: false,\n  //       }));\n  //       setState((state) => ({\n  //         ...state,\n  //         open: true,\n  //         title: \"Check your connection !\",\n  //         severity: \"error\",\n  //       }));\n  //     });\n  // };\n\n  // const editArticle = (e) => {\n  //   e.preventDefault();\n  //   setLoadArtile((loadArticle) => ({\n  //     ...loadArticle,\n  //     loadingArticle: true,\n  //   }));\n\n  //   // const dataArticle = {\n  //   //   title: values.title,\n  //   //   tags: values.tags,\n  //   //   thumbnail: values.imgrequest,\n  //   //   description: values.description,\n  //   // };\n\n  //   let formData = new FormData();\n\n  //   formData.append(\"title\", values.title);\n  //   const json_arr = JSON.stringify(values.tags);\n  //   formData.append(\"tags\", json_arr);\n  //   formData.append(\"thumbnail\", values.imgrequest);\n  //   formData.append(\"description\", values.description);\n\n  //   axios({\n  //     method: \"put\",\n  //     url: `${apiDashManage}article`,\n  //     headers: {\n  //       Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n  //     },\n  //     data: formData,\n  //   })\n  //     .then((res) => {\n  //       setLoadArtile((loadArticle) => ({\n  //         ...loadArticle,\n  //         loadingArticle: false,\n  //       }));\n  //       setState((state) => ({\n  //         ...state,\n  //         open: true,\n  //         title: \"Article has been edited !\",\n  //         severity: \"success\",\n  //       }));\n  //       setValues((values) => ({\n  //         ...values,\n  //         title: \"\",\n  //         tags: [],\n  //         description: \"\",\n  //         image: \"\",\n  //         picture: \"\",\n  //         imgrequest: null,\n  //         figurethumbnails: \"\",\n  //       }));\n  //     })\n  //     .catch((err) => {\n  //       setLoadArtile((loadArticle) => ({\n  //         ...loadArticle,\n  //         loadingArticle: false,\n  //       }));\n  //       setState((state) => ({\n  //         ...state,\n  //         open: true,\n  //         title: \"Check your connection !\",\n  //         severity: \"error\",\n  //       }));\n  //       setValues((values) => ({\n  //         ...values,\n  //         title: \"\",\n  //         tags: [],\n  //         description: \"\",\n  //         image: \"\",\n  //         picture: \"\",\n  //         imgrequest: null,\n  //         figurethumbnails: \"\",\n  //       }));\n  //     });\n  // };\n\n  // const { severity, title, vertical, horizontal } = state;\n  // const { loadingArticle, editThumbnail } = loadArticle;\n\n  return (\n    <Consumer>\n      {({\n        snackbar,\n        values,\n        loadArticle,\n        handleEditor,\n        onClose,\n        handleChange,\n        handleTags,\n        onImageChange,\n        addImage,\n        addArticle,\n      }) => {\n        const { vertical, horizontal, open, title, severity } = snackbar;\n        const { picture } = values;\n        const { editArticle, articleEdit } = loadArticle;\n        return (\n          <React.Fragment>\n            <Snackbar\n              anchorOrigin={{ vertical, horizontal }}\n              open={open}\n              autoHideDuration={6000}\n              onClose={onClose}\n              key={vertical + horizontal}\n            >\n              <Alert onClose={onClose} severity={severity}>\n                {title}\n              </Alert>\n            </Snackbar>\n            <Modal\n              aria-labelledby=\"transition-modal-title\"\n              aria-describedby=\"transition-modal-description\"\n              className={classes.modal}\n              open={open}\n              onClose={handleClose}\n              closeAfterTransition\n              BackdropComponent={Backdrop}\n              BackdropProps={{\n                timeout: 500,\n              }}\n            >\n              <Fade in={open}>\n                <Card>\n                  <CardHeader subheader=\"Edit your Article\" title=\"Article\" />\n                  <Divider />\n                  <form id=\"myform\" encType=\"multipart/form-data\">\n                    <CardContent>\n                      <div className={classes.details}>\n                        <Avatar className={classes.avatar} src={picture} />\n                        <input\n                          style={{\n                            position: \"absolute\",\n                            marginTop: \"40px\",\n                            cursor: \"pointer\",\n                          }}\n                          type=\"file\"\n                          onChange={onImageChange}\n                          name=\"image\"\n                        />\n                      </div>\n                    </CardContent>\n                    <Divider />\n                    <CardActions>\n                      <Button\n                        onClick={addImage}\n                        className={classes.uploadButton}\n                        disabled={editArticle}\n                        color=\"primary\"\n                        variant=\"text\"\n                      >\n                        {editArticle ? \"Loading...\" : \"Edit Thumbnail\"}\n                      </Button>\n                    </CardActions>\n                  </form>\n\n                  <CardContent>\n                    <TextField\n                      fullWidth\n                      label=\"Title\"\n                      name=\"title\"\n                      onChange={handleChange}\n                      type=\"text\"\n                      value={values.title}\n                      variant=\"outlined\"\n                    />\n\n                    <CreatableSelect\n                      isMulti\n                      onChange={handleTags}\n                      components={animatedComponents}\n                      styles={customStyles}\n                      placeholder=\"Add more tags...\"\n                    />\n                    <CKEditor\n                      editor={ClassicEditor}\n                      onChange={(event, editor) => handleEditor(event, editor)}\n                    />\n                  </CardContent>\n                  <Divider />\n                  <CardActions style={{ justifyContent: \"center\" }}>\n                    <Button\n                      color=\"primary\"\n                      variant=\"outlined\"\n                      onClick={editArticle}\n                      disabled={loadingArticle}\n                    >\n                      {loadingArticle ? \"Loading ...\" : \"Edit Article\"}\n                    </Button>\n                  </CardActions>\n                </Card>\n              </Fade>\n            </Modal>\n          </React.Fragment>\n        );\n      }}\n    </Consumer>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}